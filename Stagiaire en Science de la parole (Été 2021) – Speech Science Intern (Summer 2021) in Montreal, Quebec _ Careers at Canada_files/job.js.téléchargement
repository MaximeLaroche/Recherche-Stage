var sdWidgetReadyCallback=function(){if(window.mobile){var a=document.getElementById("mobileShowSocialOptionsButton");ICIMS.removeClass(a,"iCIMS_NoDisplay")}else{var b=document.getElementById("jobSocialOptions");ICIMS.removeClass(b,"iCIMS_NoDisplay")}$(".icimsSDWidget_shareBtn").each(function(){$(this).click(function(){if(typeof dataLayer!=="undefined"){dataLayer.push({event:"jobReferralSocialSuccess",socialNetwork:$(this).attr("data-icims-network")})}})});isWidgetLoaded=true};function TrimSpace(a){return(a.replace(/^\s*|\s*$/g,""))}function trim(a){return TrimSpace(a)}function OpenNewWindow(a,b){a+="&css_host="+getURL();var c=window.open(a,"TellJobToFriend",b)}function getURL(){var a=window.location.host;return a}function highlightErrorField(a,b){alert(b);a.value="";focusOnFormElement(a);return false}function focusOnFormElement(a){try{a.focus();if(typeof(a.select)=="object"){a.select()}}catch(b){}}function showSocialOptions(){var b=document.getElementById("popupOverlay");var d=document.getElementById("jobOptionsMobile");var f=document.getElementById("jobSocialOptions");if(isNewAesthetics&&!isWidgetLoaded){var c=document.getElementById("jobSocialOptions");for(i=0;i<c.children.length;i++){var e=c.children[i];if(e.id&&e.id=="jobSocialOptionsErrMsg"){ICIMS.removeClass(e,"NoDisplay")}else{ICIMS.addClass(e,"NoDisplay")}}var a=document.getElementById("jobSocialOptionsErrMsg");ICIMS.removeClass(a,"NoDisplay")}b.addEventListener("click",hideSocialOptions,true);ICIMS.removeClass(b,"iCIMS_NoDisplay");ICIMS.addClass(d,"iCIMS_NoDisplay");ICIMS.removeClass(f,"iCIMS_NoDisplay");return false}function hideSocialOptions(){var a=document.getElementById("popupOverlay");var b=document.getElementById("jobOptionsMobile");var c=document.getElementById("jobSocialOptions");ICIMS.addClass(c,"iCIMS_NoDisplay");ICIMS.addClass(a,"iCIMS_NoDisplay");ICIMS.removeClass(b,"iCIMS_NoDisplay")}$(function(){$("input[data-interest]").bootstrapSwitch({size:"small",onSwitchChange:function(e,f){d()}});var d=icims.utils.debounce(a,500);var c={abort:function b(){}};function a(){var e=$("input[data-interest]").filter(function(f){return $(this).prop("checked")}).map(function(g,f){return $(f).data("interest")}).get().join(",");url=link+"&mode=subscribe&jobId="+jobId+"&subscribe="+e;c.abort();c=$.ajax({url:url})}});function checkWidthAndToggleSocialOptions(){if(isNewAesthetics){var a=$(this);if(a.width()>=mobileWidthThreshold){hideSocialOptions();$("#jobSocialOptions").removeClass("iCIMS_NoDisplay")}else{if(isMobile){$("#jobSocialOptions").addClass("iCIMS_NoDisplay")}}}}$(window).on("resize",checkWidthAndToggleSocialOptions);$(window).on("load",checkWidthAndToggleSocialOptions);
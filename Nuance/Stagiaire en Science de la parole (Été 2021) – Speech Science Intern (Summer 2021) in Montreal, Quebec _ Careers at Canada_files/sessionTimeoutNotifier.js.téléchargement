var countDownTimer;var sessionTimeoutTimer;setSessionTimeout();function setSessionTimeout(){clearAllTimers();sessionTimeoutTimer=setTimeout(function(){showTimeoutWarning();countDownTimer=setInterval(function(){var a=parseInt(document.getElementById("timeoutSeconds").innerHTML);if(a>1){document.getElementById("timeoutSeconds").innerHTML=--a}else{expire()}},1000)},minutesUntilSessionTimeoutWarning*60000)}function keepMeAlive(){var a=SubmitRequest("/jobs/expire?extend=1",null,function(){var b=JSON.parse(a.responseText);if(b.status=="ok"){extendSession()}})}function expire(){if(!autoSaveIfNecessary()){var a=SubmitRequest("/jobs/expire",null,function(){var b=JSON.parse(a.responseText);if(b.status=="ok"){pageDirtyFlag=false;var c=document.getElementById("icims_formFrame");if(c&&c.contentWindow){c.contentWindow.onbeforeunload=null}clearAllTimers();document.location=logoutUrl+"&timeout=1"+(page!="assessment"?"&redirect="+page:"")+(jobId?"&jobid="+jobId:"")+(subscriptionKey?"&key="+subscriptionKey:"")+(back?"&back="+back:"")+(b.logInUrl?"&logInUrl="+b.logInUrl:"")}})}}function extendSession(){clearAllTimers();closeTimeoutWarning();setSessionTimeout()}function clearAllTimers(){clearTimeout(sessionTimeoutTimer);clearInterval(countDownTimer)}function showTimeoutWarning(){var a=document.getElementById("timeoutWarningSection");var b=document.getElementById("timeoutOverlay");ICIMS.addClass(a,"iCIMS_Portal_PopupOpen");document.getElementById("keepMeAliveButton").focus();keepFocusOnButton();ICIMS.removeClass(b,"NoDisplay");if(!isMobile){a.scrollIntoView(true)}}function closeTimeoutWarning(){var a=document.getElementById("timeoutWarningSection");var b=document.getElementById("timeoutOverlay");document.getElementById("timeoutSeconds").innerHTML=(minutesUntilSessionTimeout-minutesUntilSessionTimeoutWarning)*60;ICIMS.removeClass(a,"iCIMS_Portal_PopupOpen");ICIMS.addClass(b,"NoDisplay")}function autoSaveIfNecessary(){var a=(page=="candidate")?"cp_form_save_i":(page=="questions")?"quesp_form_save_i":(page=="eeo")?"eeop_form_save_i":"";var d=(page=="candidate")||(page=="eeo")?"profileForm":(page=="questions")?"questions":"";var c=document.getElementById(a);var b=document.getElementById(d);if(c&&b){if(document.activeElement){document.activeElement.blur()}clearAllTimers();c.click();b.action+="&isTimeout=1&page="+page;b.submit();return true}if(page=="assessment"){linkClicked()}return false}function keepFocusOnButton(){document.getElementById("keepMeAliveButton").addEventListener("blur",function(a){a.target.focus()})};